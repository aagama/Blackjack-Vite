(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const p=e=>{if(!e)throw new Error("La carta es un argumento obligatorio");const t=document.createElement("img");return t.src=`./assets/cartas/${e}.png`,t.classList.add("carta"),t},y=(e,t)=>{if(!e||e.length===0)throw new Error("tiposDeCarta es obligatorio como un arreglo de string");if(!t||t.length===0)throw new Error("tiposEspeciales es obligatorio como un arreglo de string");let a=[];for(let n=2;n<=10;n++)for(const r of e)a.push(n+r);return t.forEach(n=>{e.forEach(r=>{a.push(n+r)})}),a.sort(()=>Math.random()-.5),console.log(a),a},h=e=>{if(!e||e.length===0)throw"No hay cartas en la Baraja";return e.pop()},m=(e,t,a,n=[])=>{if(!e)throw new Error("Se requieren los puntos minimos");if(!t)throw new Error("Se requiere el argumento puntosHTML");if(!a)throw new Error("Se requiere el argumento divCartasComputadora");let r=0;do{const o=h(n);r+=b(o),t.innerText=r;const d=p(o);if(a.append(d),e>21)break}while(r<=e&&e<=21&&r!=21);setTimeout(()=>{e===r?alert("Esto es un empate"):e>21?alert("Gana la Computadra"):r>21||e>r?alert("Felicidades, Ganaste"):alert("Gana la computadora")},100)},b=e=>{if(!e||e.length===0)throw"No hay carta para obtener su valor";const t=e.slice(0,e.length-1);return isNaN(t)?t==="A"?11:10:t*1};let u=[];const L=["C","D","H","S"],E=["A","J","K","Q"];let s=0,g=0;const c=document.querySelector("#btnPedir"),l=document.querySelector("#btnDetener"),v=document.querySelector("#btnNuevo"),w=document.querySelector("#jugador-cartas"),f=document.querySelector("#computadora-cartas"),i=document.querySelectorAll("small");l.disabled=!0;c.disabled=!0;c.addEventListener("click",()=>{l.disabled=!1;const e=h(u);s+=b(e),i[0].innerText=s;const t=p(e);w.append(t),s>21?(console.warn("Lo siento mucho, perdiste"),c.disabled=!0,l.disabled=!0,m(s,i[1],f,u)):s===21&&(console.warn("21, genial"),c.disabled=!0,l.disabled=!0,m(s,i[1],f,u))});l.addEventListener("click",()=>{c.disabled=!0,l.disabled=!0,m(s,i[1],f,u)});v.addEventListener("click",()=>{console.clear(),u=y(L,E),c.disabled=!1,s=0,g=0,i[0].innerText=s,i[1].innerText=g,w.innerHTML="",f.innerHTML=""});
